{"ast":null,"code":"// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nimport { CHANNEL_EVENTS } from '../lib/constants';\nexport default class Serializer {\n  constructor() {\n    this.HEADER_LENGTH = 1;\n    this.META_LENGTH = 4;\n    this.USER_BROADCAST_PUSH_META_LENGTH = 5;\n    this.KINDS = {\n      push: 0,\n      reply: 1,\n      broadcast: 2,\n      userBroadcastPush: 3,\n      userBroadcast: 4\n    };\n    this.BINARY_ENCODING = 0;\n    this.JSON_ENCODING = 1;\n    this.BROADCAST = 'broadcast';\n  }\n  encode(msg, callback) {\n    if (this._isArrayBuffer(msg.payload)) {\n      return callback(this._binaryEncodePush(msg));\n    }\n    if (msg.event === this.BROADCAST && !(msg.payload instanceof ArrayBuffer) && typeof msg.payload.event === 'string') {\n      return callback(this._binaryEncodeUserBroadcastPush(msg));\n    }\n    let payload = [msg.join_ref, msg.ref, msg.topic, msg.event, msg.payload];\n    return callback(JSON.stringify(payload));\n  }\n  _binaryEncodePush(message) {\n    const {\n      join_ref,\n      ref,\n      event,\n      topic,\n      payload\n    } = message;\n    const metaLength = this.META_LENGTH + join_ref.length + ref.length + topic.length + event.length;\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength);\n    let view = new DataView(header);\n    let offset = 0;\n    view.setUint8(offset++, this.KINDS.push); // kind\n    view.setUint8(offset++, join_ref.length);\n    view.setUint8(offset++, ref.length);\n    view.setUint8(offset++, topic.length);\n    view.setUint8(offset++, event.length);\n    Array.from(join_ref, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(ref, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(topic, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(event, char => view.setUint8(offset++, char.charCodeAt(0)));\n    var combined = new Uint8Array(header.byteLength + payload.byteLength);\n    combined.set(new Uint8Array(header), 0);\n    combined.set(new Uint8Array(payload), header.byteLength);\n    return combined.buffer;\n  }\n  _binaryEncodeUserBroadcastPush(message) {\n    var _a;\n    if (this._isArrayBuffer((_a = message.payload) === null || _a === void 0 ? void 0 : _a.payload)) {\n      return this._encodeBinaryUserBroadcastPush(message);\n    } else {\n      return this._encodeJsonUserBroadcastPush(message);\n    }\n  }\n  _encodeBinaryUserBroadcastPush(message) {\n    var _a, _b;\n    const {\n      join_ref,\n      ref,\n      topic\n    } = message;\n    const userEvent = message.payload.event;\n    const userPayload = (_b = (_a = message.payload) === null || _a === void 0 ? void 0 : _a.payload) !== null && _b !== void 0 ? _b : new ArrayBuffer(0);\n    const metaLength = this.USER_BROADCAST_PUSH_META_LENGTH + join_ref.length + ref.length + topic.length + userEvent.length;\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength);\n    let view = new DataView(header);\n    let offset = 0;\n    view.setUint8(offset++, this.KINDS.userBroadcastPush); // kind\n    view.setUint8(offset++, join_ref.length);\n    view.setUint8(offset++, ref.length);\n    view.setUint8(offset++, topic.length);\n    view.setUint8(offset++, userEvent.length);\n    view.setUint8(offset++, this.BINARY_ENCODING);\n    Array.from(join_ref, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(ref, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(topic, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(userEvent, char => view.setUint8(offset++, char.charCodeAt(0)));\n    var combined = new Uint8Array(header.byteLength + userPayload.byteLength);\n    combined.set(new Uint8Array(header), 0);\n    combined.set(new Uint8Array(userPayload), header.byteLength);\n    return combined.buffer;\n  }\n  _encodeJsonUserBroadcastPush(message) {\n    var _a, _b;\n    const {\n      join_ref,\n      ref,\n      topic\n    } = message;\n    const userEvent = message.payload.event;\n    const userPayload = (_b = (_a = message.payload) === null || _a === void 0 ? void 0 : _a.payload) !== null && _b !== void 0 ? _b : {};\n    const encoder = new TextEncoder(); // Encodes to UTF-8\n    const encodedUserPayload = encoder.encode(JSON.stringify(userPayload)).buffer;\n    const metaLength = this.USER_BROADCAST_PUSH_META_LENGTH + join_ref.length + ref.length + topic.length + userEvent.length;\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength);\n    let view = new DataView(header);\n    let offset = 0;\n    view.setUint8(offset++, this.KINDS.userBroadcastPush); // kind\n    view.setUint8(offset++, join_ref.length);\n    view.setUint8(offset++, ref.length);\n    view.setUint8(offset++, topic.length);\n    view.setUint8(offset++, userEvent.length);\n    view.setUint8(offset++, this.JSON_ENCODING);\n    Array.from(join_ref, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(ref, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(topic, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(userEvent, char => view.setUint8(offset++, char.charCodeAt(0)));\n    var combined = new Uint8Array(header.byteLength + encodedUserPayload.byteLength);\n    combined.set(new Uint8Array(header), 0);\n    combined.set(new Uint8Array(encodedUserPayload), header.byteLength);\n    return combined.buffer;\n  }\n  decode(rawPayload, callback) {\n    if (this._isArrayBuffer(rawPayload)) {\n      let result = this._binaryDecode(rawPayload);\n      return callback(result);\n    }\n    if (typeof rawPayload === 'string') {\n      const jsonPayload = JSON.parse(rawPayload);\n      const [join_ref, ref, topic, event, payload] = jsonPayload;\n      return callback({\n        join_ref,\n        ref,\n        topic,\n        event,\n        payload\n      });\n    }\n    return callback({});\n  }\n  _binaryDecode(buffer) {\n    const view = new DataView(buffer);\n    const kind = view.getUint8(0);\n    const decoder = new TextDecoder();\n    switch (kind) {\n      case this.KINDS.push:\n        return this._decodePush(buffer, view, decoder);\n      case this.KINDS.reply:\n        return this._decodeReply(buffer, view, decoder);\n      case this.KINDS.broadcast:\n        return this._decodeBroadcast(buffer, view, decoder);\n      case this.KINDS.userBroadcast:\n        return this._decodeUserBroadcast(buffer, view, decoder);\n    }\n  }\n  _decodePush(buffer, view, decoder) {\n    const joinRefSize = view.getUint8(1);\n    const topicSize = view.getUint8(2);\n    const eventSize = view.getUint8(3);\n    let offset = this.HEADER_LENGTH + this.META_LENGTH - 1; // pushes have no ref\n    const joinRef = decoder.decode(buffer.slice(offset, offset + joinRefSize));\n    offset = offset + joinRefSize;\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n    offset = offset + topicSize;\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize));\n    offset = offset + eventSize;\n    const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)));\n    return {\n      join_ref: joinRef,\n      ref: null,\n      topic: topic,\n      event: event,\n      payload: data\n    };\n  }\n  _decodeReply(buffer, view, decoder) {\n    const joinRefSize = view.getUint8(1);\n    const refSize = view.getUint8(2);\n    const topicSize = view.getUint8(3);\n    const eventSize = view.getUint8(4);\n    let offset = this.HEADER_LENGTH + this.META_LENGTH;\n    const joinRef = decoder.decode(buffer.slice(offset, offset + joinRefSize));\n    offset = offset + joinRefSize;\n    const ref = decoder.decode(buffer.slice(offset, offset + refSize));\n    offset = offset + refSize;\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n    offset = offset + topicSize;\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize));\n    offset = offset + eventSize;\n    const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)));\n    const payload = {\n      status: event,\n      response: data\n    };\n    return {\n      join_ref: joinRef,\n      ref: ref,\n      topic: topic,\n      event: CHANNEL_EVENTS.reply,\n      payload: payload\n    };\n  }\n  _decodeBroadcast(buffer, view, decoder) {\n    const topicSize = view.getUint8(1);\n    const eventSize = view.getUint8(2);\n    let offset = this.HEADER_LENGTH + 2;\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n    offset = offset + topicSize;\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize));\n    offset = offset + eventSize;\n    const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)));\n    return {\n      join_ref: null,\n      ref: null,\n      topic: topic,\n      event: event,\n      payload: data\n    };\n  }\n  _decodeUserBroadcast(buffer, view, decoder) {\n    const topicSize = view.getUint8(1);\n    const userEventSize = view.getUint8(2);\n    const metadataSize = view.getUint8(3);\n    const payloadEncoding = view.getUint8(4);\n    let offset = this.HEADER_LENGTH + 4;\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n    offset = offset + topicSize;\n    const userEvent = decoder.decode(buffer.slice(offset, offset + userEventSize));\n    offset = offset + userEventSize;\n    const metadata = decoder.decode(buffer.slice(offset, offset + metadataSize));\n    offset = offset + metadataSize;\n    const payload = buffer.slice(offset, buffer.byteLength);\n    const parsedPayload = payloadEncoding === this.JSON_ENCODING ? JSON.parse(decoder.decode(payload)) : payload;\n    const data = {\n      type: this.BROADCAST,\n      event: userEvent,\n      payload: parsedPayload\n    };\n    // Metadata is optional and always JSON encoded\n    if (metadataSize > 0) {\n      data['meta'] = JSON.parse(metadata);\n    }\n    return {\n      join_ref: null,\n      ref: null,\n      topic: topic,\n      event: this.BROADCAST,\n      payload: data\n    };\n  }\n  _isArrayBuffer(buffer) {\n    var _a;\n    return buffer instanceof ArrayBuffer || ((_a = buffer === null || buffer === void 0 ? void 0 : buffer.constructor) === null || _a === void 0 ? void 0 : _a.name) === 'ArrayBuffer';\n  }\n}","map":{"version":3,"names":["CHANNEL_EVENTS","Serializer","constructor","HEADER_LENGTH","META_LENGTH","USER_BROADCAST_PUSH_META_LENGTH","KINDS","push","reply","broadcast","userBroadcastPush","userBroadcast","BINARY_ENCODING","JSON_ENCODING","BROADCAST","encode","msg","callback","_isArrayBuffer","payload","_binaryEncodePush","event","ArrayBuffer","_binaryEncodeUserBroadcastPush","join_ref","ref","topic","JSON","stringify","message","metaLength","length","header","view","DataView","offset","setUint8","Array","from","char","charCodeAt","combined","Uint8Array","byteLength","set","buffer","_a","_encodeBinaryUserBroadcastPush","_encodeJsonUserBroadcastPush","userEvent","userPayload","_b","encoder","TextEncoder","encodedUserPayload","decode","rawPayload","result","_binaryDecode","jsonPayload","parse","kind","getUint8","decoder","TextDecoder","_decodePush","_decodeReply","_decodeBroadcast","_decodeUserBroadcast","joinRefSize","topicSize","eventSize","joinRef","slice","data","refSize","status","response","userEventSize","metadataSize","payloadEncoding","metadata","parsedPayload","type","name"],"sources":["C:\\Users\\Lenovo\\Desktop\\remi\\Begué\\Application\\Bégué baara\\node_modules\\@supabase\\realtime-js\\src\\lib\\serializer.ts"],"sourcesContent":["// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nimport { CHANNEL_EVENTS } from '../lib/constants'\n\nexport type Msg<T> = {\n  join_ref: string\n  ref: string\n  topic: string\n  event: string\n  payload: T\n}\n\nexport default class Serializer {\n  HEADER_LENGTH = 1\n  META_LENGTH = 4\n  USER_BROADCAST_PUSH_META_LENGTH = 5\n  KINDS = { push: 0, reply: 1, broadcast: 2, userBroadcastPush: 3, userBroadcast: 4 }\n  BINARY_ENCODING = 0\n  JSON_ENCODING = 1\n  BROADCAST = 'broadcast'\n\n  encode(\n    msg: Msg<{ [key: string]: any } | ArrayBuffer>,\n    callback: (result: ArrayBuffer | string) => any\n  ) {\n    if (this._isArrayBuffer(msg.payload)) {\n      return callback(this._binaryEncodePush(msg as Msg<ArrayBuffer>))\n    }\n\n    if (\n      msg.event === this.BROADCAST &&\n      !(msg.payload instanceof ArrayBuffer) &&\n      typeof msg.payload.event === 'string'\n    ) {\n      return callback(\n        this._binaryEncodeUserBroadcastPush(msg as Msg<{ event: string } & { [key: string]: any }>)\n      )\n    }\n\n    let payload = [msg.join_ref, msg.ref, msg.topic, msg.event, msg.payload]\n    return callback(JSON.stringify(payload))\n  }\n\n  private _binaryEncodePush(message: Msg<ArrayBuffer>) {\n    const { join_ref, ref, event, topic, payload } = message\n    const metaLength = this.META_LENGTH + join_ref.length + ref.length + topic.length + event.length\n\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength)\n    let view = new DataView(header)\n    let offset = 0\n\n    view.setUint8(offset++, this.KINDS.push) // kind\n    view.setUint8(offset++, join_ref.length)\n    view.setUint8(offset++, ref.length)\n    view.setUint8(offset++, topic.length)\n    view.setUint8(offset++, event.length)\n    Array.from(join_ref, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(ref, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(topic, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(event, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n\n    var combined = new Uint8Array(header.byteLength + payload.byteLength)\n    combined.set(new Uint8Array(header), 0)\n    combined.set(new Uint8Array(payload), header.byteLength)\n\n    return combined.buffer\n  }\n\n  private _binaryEncodeUserBroadcastPush(message: Msg<{ event: string } & { [key: string]: any }>) {\n    if (this._isArrayBuffer(message.payload?.payload)) {\n      return this._encodeBinaryUserBroadcastPush(message)\n    } else {\n      return this._encodeJsonUserBroadcastPush(message)\n    }\n  }\n\n  private _encodeBinaryUserBroadcastPush(message: Msg<{ event: string } & { [key: string]: any }>) {\n    const { join_ref, ref, topic } = message\n    const userEvent = message.payload.event\n    const userPayload = message.payload?.payload ?? new ArrayBuffer(0)\n\n    const metaLength =\n      this.USER_BROADCAST_PUSH_META_LENGTH +\n      join_ref.length +\n      ref.length +\n      topic.length +\n      userEvent.length\n\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength)\n    let view = new DataView(header)\n    let offset = 0\n\n    view.setUint8(offset++, this.KINDS.userBroadcastPush) // kind\n    view.setUint8(offset++, join_ref.length)\n    view.setUint8(offset++, ref.length)\n    view.setUint8(offset++, topic.length)\n    view.setUint8(offset++, userEvent.length)\n    view.setUint8(offset++, this.BINARY_ENCODING)\n    Array.from(join_ref, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(ref, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(topic, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(userEvent, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n\n    var combined = new Uint8Array(header.byteLength + userPayload.byteLength)\n    combined.set(new Uint8Array(header), 0)\n    combined.set(new Uint8Array(userPayload), header.byteLength)\n\n    return combined.buffer\n  }\n\n  private _encodeJsonUserBroadcastPush(message: Msg<{ event: string } & { [key: string]: any }>) {\n    const { join_ref, ref, topic } = message\n    const userEvent = message.payload.event\n    const userPayload = message.payload?.payload ?? {}\n\n    const encoder = new TextEncoder() // Encodes to UTF-8\n    const encodedUserPayload = encoder.encode(JSON.stringify(userPayload)).buffer\n\n    const metaLength =\n      this.USER_BROADCAST_PUSH_META_LENGTH +\n      join_ref.length +\n      ref.length +\n      topic.length +\n      userEvent.length\n\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength)\n    let view = new DataView(header)\n    let offset = 0\n\n    view.setUint8(offset++, this.KINDS.userBroadcastPush) // kind\n    view.setUint8(offset++, join_ref.length)\n    view.setUint8(offset++, ref.length)\n    view.setUint8(offset++, topic.length)\n    view.setUint8(offset++, userEvent.length)\n    view.setUint8(offset++, this.JSON_ENCODING)\n    Array.from(join_ref, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(ref, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(topic, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(userEvent, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n\n    var combined = new Uint8Array(header.byteLength + encodedUserPayload.byteLength)\n    combined.set(new Uint8Array(header), 0)\n    combined.set(new Uint8Array(encodedUserPayload), header.byteLength)\n\n    return combined.buffer\n  }\n\n  decode(rawPayload: ArrayBuffer | string, callback: Function) {\n    if (this._isArrayBuffer(rawPayload)) {\n      let result = this._binaryDecode(rawPayload as ArrayBuffer)\n      return callback(result)\n    }\n\n    if (typeof rawPayload === 'string') {\n      const jsonPayload = JSON.parse(rawPayload)\n      const [join_ref, ref, topic, event, payload] = jsonPayload\n      return callback({ join_ref, ref, topic, event, payload })\n    }\n\n    return callback({})\n  }\n\n  private _binaryDecode(buffer: ArrayBuffer) {\n    const view = new DataView(buffer)\n    const kind = view.getUint8(0)\n    const decoder = new TextDecoder()\n    switch (kind) {\n      case this.KINDS.push:\n        return this._decodePush(buffer, view, decoder)\n      case this.KINDS.reply:\n        return this._decodeReply(buffer, view, decoder)\n      case this.KINDS.broadcast:\n        return this._decodeBroadcast(buffer, view, decoder)\n      case this.KINDS.userBroadcast:\n        return this._decodeUserBroadcast(buffer, view, decoder)\n    }\n  }\n\n  private _decodePush(\n    buffer: ArrayBuffer,\n    view: DataView,\n    decoder: TextDecoder\n  ): {\n    join_ref: string\n    ref: null\n    topic: string\n    event: string\n    payload: { [key: string]: any }\n  } {\n    const joinRefSize = view.getUint8(1)\n    const topicSize = view.getUint8(2)\n    const eventSize = view.getUint8(3)\n    let offset = this.HEADER_LENGTH + this.META_LENGTH - 1 // pushes have no ref\n    const joinRef = decoder.decode(buffer.slice(offset, offset + joinRefSize))\n    offset = offset + joinRefSize\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize))\n    offset = offset + eventSize\n    const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)))\n    return {\n      join_ref: joinRef,\n      ref: null,\n      topic: topic,\n      event: event,\n      payload: data,\n    }\n  }\n\n  private _decodeReply(\n    buffer: ArrayBuffer,\n    view: DataView,\n    decoder: TextDecoder\n  ): {\n    join_ref: string\n    ref: string\n    topic: string\n    event: CHANNEL_EVENTS.reply\n    payload: { status: string; response: { [key: string]: any } }\n  } {\n    const joinRefSize = view.getUint8(1)\n    const refSize = view.getUint8(2)\n    const topicSize = view.getUint8(3)\n    const eventSize = view.getUint8(4)\n    let offset = this.HEADER_LENGTH + this.META_LENGTH\n    const joinRef = decoder.decode(buffer.slice(offset, offset + joinRefSize))\n    offset = offset + joinRefSize\n    const ref = decoder.decode(buffer.slice(offset, offset + refSize))\n    offset = offset + refSize\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize))\n    offset = offset + eventSize\n    const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)))\n    const payload = { status: event, response: data }\n    return {\n      join_ref: joinRef,\n      ref: ref,\n      topic: topic,\n      event: CHANNEL_EVENTS.reply,\n      payload: payload,\n    }\n  }\n\n  private _decodeBroadcast(\n    buffer: ArrayBuffer,\n    view: DataView,\n    decoder: TextDecoder\n  ): {\n    join_ref: null\n    ref: null\n    topic: string\n    event: string\n    payload: { [key: string]: any }\n  } {\n    const topicSize = view.getUint8(1)\n    const eventSize = view.getUint8(2)\n    let offset = this.HEADER_LENGTH + 2\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    const event = decoder.decode(buffer.slice(offset, offset + eventSize))\n    offset = offset + eventSize\n    const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)))\n\n    return { join_ref: null, ref: null, topic: topic, event: event, payload: data }\n  }\n\n  private _decodeUserBroadcast(\n    buffer: ArrayBuffer,\n    view: DataView,\n    decoder: TextDecoder\n  ): {\n    join_ref: null\n    ref: null\n    topic: string\n    event: string\n    payload: { [key: string]: any }\n  } {\n    const topicSize = view.getUint8(1)\n    const userEventSize = view.getUint8(2)\n    const metadataSize = view.getUint8(3)\n    const payloadEncoding = view.getUint8(4)\n\n    let offset = this.HEADER_LENGTH + 4\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    const userEvent = decoder.decode(buffer.slice(offset, offset + userEventSize))\n    offset = offset + userEventSize\n    const metadata = decoder.decode(buffer.slice(offset, offset + metadataSize))\n    offset = offset + metadataSize\n\n    const payload = buffer.slice(offset, buffer.byteLength)\n    const parsedPayload =\n      payloadEncoding === this.JSON_ENCODING ? JSON.parse(decoder.decode(payload)) : payload\n\n    const data: { [key: string]: any } = {\n      type: this.BROADCAST,\n      event: userEvent,\n      payload: parsedPayload,\n    }\n\n    // Metadata is optional and always JSON encoded\n    if (metadataSize > 0) {\n      data['meta'] = JSON.parse(metadata)\n    }\n\n    return { join_ref: null, ref: null, topic: topic, event: this.BROADCAST, payload: data }\n  }\n\n  private _isArrayBuffer(buffer: any): boolean {\n    return buffer instanceof ArrayBuffer || buffer?.constructor?.name === 'ArrayBuffer'\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}